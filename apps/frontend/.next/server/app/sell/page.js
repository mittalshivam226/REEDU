(()=>{var e={};e.id=527,e.ids=[527],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},3432:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(5304),t(1645),t(7824);var r=t(3282),a=t(5736),i=t(3906),l=t.n(i),o=t(6880),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);t.d(s,n);let d=["",{children:["sell",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5304)),"c:\\Users\\mitta\\Desktop\\REEDU\\apps\\frontend\\app\\sell\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1645)),"c:\\Users\\mitta\\Desktop\\REEDU\\apps\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7824,23)),"next/dist/client/components/not-found-error"]}],c=["c:\\Users\\mitta\\Desktop\\REEDU\\apps\\frontend\\app\\sell\\page.tsx"],p="/sell/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/sell/page",pathname:"/sell",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1441:(e,s,t)=>{Promise.resolve().then(t.bind(t,1579))},1579:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(3227),a=t(3677),i=t(1043),l=t(649),o=t(7403),n=t(6423),d=t(8918),c=t(8969);let p=a.forwardRef(({className:e,...s},t)=>r.jsx("textarea",{className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));p.displayName="Textarea";var u=t(1563),x=t(1009),m=t(5619),h=t(7587);let f=(0,t(4583).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var g=t(7392),j=t(5768);function v(){let[e,s]=(0,a.useState)({title:"",description:"",price:"",condition:"",location:"",edition:"",isbn:"",tags:""}),[t,c]=(0,a.useState)([]),[v,y]=(0,a.useState)([]),[b,N]=(0,a.useState)(!1),w=(0,i.useRouter)(),{toast:k}=(0,j.pm)(),_=(e,t)=>{s(s=>({...s,[e]:t}))},q=e=>{c(s=>s.filter((s,t)=>t!==e)),URL.revokeObjectURL(v[e]),y(s=>s.filter((s,t)=>t!==e))},E=async s=>{if(s.preventDefault(),!e.title||!e.price||!e.condition||!e.location){k({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}if(0>=parseFloat(e.price)){k({title:"Error",description:"Price must be greater than 0",variant:"destructive"});return}N(!0);try{let s=v.length>0?v:["https://via.placeholder.com/400x300?text=No+Image"],t={title:e.title,description:e.description||void 0,price:parseFloat(e.price),condition:e.condition,location:e.location,tags:e.tags?e.tags.split(",").map(e=>e.trim()):[],edition:e.edition||void 0,isbn:e.isbn||void 0,images:s};await g.eo.create(t),k({title:"Success",description:"Book listing created successfully!"}),w.push("/dashboard")}catch(e){k({title:"Error",description:e.response?.data?.message||"Failed to create listing",variant:"destructive"})}finally{N(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,r.jsxs)(l.default,{href:"/",className:"flex items-center space-x-2",children:[r.jsx(m.Z,{className:"h-8 w-8 text-blue-600"}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"REEDU"})]}),(0,r.jsxs)("nav",{className:"flex space-x-4",children:[r.jsx(l.default,{href:"/listings",className:"text-gray-600 hover:text-gray-900",children:"Browse Books"}),r.jsx(l.default,{href:"/sell",className:"text-blue-600 font-medium",children:"Sell Books"}),r.jsx(l.default,{href:"/login",className:"text-gray-600 hover:text-gray-900",children:"Login"})]})]})})}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Sell Your Book"}),r.jsx("p",{className:"text-gray-600",children:"Fill in the details below to list your book for sale."})]}),(0,r.jsxs)(x.Zb,{children:[(0,r.jsxs)(x.Ol,{children:[r.jsx(x.ll,{children:"Book Details"}),r.jsx(x.SZ,{children:"Provide accurate information about your book to attract the right buyers."})]}),r.jsx(x.aY,{children:(0,r.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"title",children:"Book Title *"}),r.jsx(n.I,{id:"title",placeholder:"Enter the book title",value:e.title,onChange:e=>_("title",e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"price",children:"Price ($) *"}),r.jsx(n.I,{id:"price",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:e.price,onChange:e=>_("price",e.target.value),required:!0})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"description",children:"Description"}),r.jsx(p,{id:"description",placeholder:"Describe the book's condition, any notes, etc.",value:e.description,onChange:e=>_("description",e.target.value),rows:4})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"condition",children:"Condition *"}),(0,r.jsxs)(u.Ph,{value:e.condition,onValueChange:e=>_("condition",e),children:[r.jsx(u.i4,{children:r.jsx(u.ki,{placeholder:"Select condition"})}),(0,r.jsxs)(u.Bw,{children:[r.jsx(u.Ql,{value:"NEW",children:"New"}),r.jsx(u.Ql,{value:"LIKE_NEW",children:"Like New"}),r.jsx(u.Ql,{value:"GOOD",children:"Good"}),r.jsx(u.Ql,{value:"FAIR",children:"Fair"}),r.jsx(u.Ql,{value:"POOR",children:"Poor"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"location",children:"Location *"}),r.jsx(n.I,{id:"location",placeholder:"City, State or Campus",value:e.location,onChange:e=>_("location",e.target.value),required:!0})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"edition",children:"Edition"}),r.jsx(n.I,{id:"edition",placeholder:"e.g., 1st Edition, 2nd Edition",value:e.edition,onChange:e=>_("edition",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"isbn",children:"ISBN"}),r.jsx(n.I,{id:"isbn",placeholder:"ISBN-10 or ISBN-13",value:e.isbn,onChange:e=>_("isbn",e.target.value)})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(d._,{htmlFor:"tags",children:"Tags (comma-separated)"}),r.jsx(n.I,{id:"tags",placeholder:"e.g., textbook, fiction, science",value:e.tags,onChange:e=>_("tags",e.target.value)})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(d._,{children:"Book Images (Max 5)"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[v.map((e,s)=>(0,r.jsxs)("div",{className:"relative",children:[r.jsx("img",{src:e,alt:`Book ${s+1}`,className:"w-24 h-24 object-cover rounded-lg border"}),r.jsx(o.z,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:()=>q(s),children:r.jsx(h.Z,{className:"h-3 w-3"})})]},s)),t.length<5&&(0,r.jsxs)("label",{className:"w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-gray-400 transition-colors",children:[r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let s=Array.from(e.target.files||[]);if(s.length+t.length>5){k({title:"Error",description:"Maximum 5 images allowed",variant:"destructive"});return}c(e=>[...e,...s]);let r=s.map(e=>URL.createObjectURL(e));y(e=>[...e,...r])},className:"hidden"}),r.jsx(f,{className:"h-6 w-6 text-gray-400"})]})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Upload up to 5 images of your book. First image will be the main photo."})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx(o.z,{type:"submit",disabled:b,className:"flex-1",children:b?"Creating Listing...":"Create Listing"}),r.jsx(l.default,{href:"/listings",children:r.jsx(o.z,{type:"button",variant:"outline",children:"Cancel"})})]})]})})]})]})]})}},8918:(e,s,t)=>{"use strict";t.d(s,{_:()=>c});var r=t(3227),a=t(3677),i=t(5579),l=a.forwardRef((e,s)=>(0,r.jsx)(i.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var o=t(9704),n=t(8969);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...s},t)=>r.jsx(l,{ref:t,className:(0,n.cn)(d(),e),...s}));c.displayName=l.displayName},1563:(e,s,t)=>{"use strict";t.d(s,{Bw:()=>h,Ph:()=>c,Ql:()=>f,i4:()=>u,ki:()=>p});var r=t(3227),a=t(3677),i=t(6612),l=t(5327),o=t(492),n=t(6942),d=t(8969);let c=i.fC;i.ZA;let p=i.B4,u=a.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsxs)(i.xz,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[s,r.jsx(i.JO,{asChild:!0,children:r.jsx(l.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.xz.displayName;let x=a.forwardRef(({className:e,...s},t)=>r.jsx(i.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:r.jsx(o.Z,{className:"h-4 w-4"})}));x.displayName=i.u_.displayName;let m=a.forwardRef(({className:e,...s},t)=>r.jsx(i.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:r.jsx(l.Z,{className:"h-4 w-4"})}));m.displayName=i.$G.displayName;let h=a.forwardRef(({className:e,children:s,position:t="popper",...a},l)=>r.jsx(i.h_,{children:(0,r.jsxs)(i.VY,{ref:l,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...a,children:[r.jsx(x,{}),r.jsx(i.l_,{className:(0,d.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),r.jsx(m,{})]})}));h.displayName=i.VY.displayName,a.forwardRef(({className:e,...s},t)=>r.jsx(i.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.__.displayName;let f=a.forwardRef(({className:e,children:s,...t},a)=>(0,r.jsxs)(i.ck,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(i.wU,{children:r.jsx(n.Z,{className:"h-4 w-4"})})}),r.jsx(i.eT,{children:s})]}));f.displayName=i.ck.displayName,a.forwardRef(({className:e,...s},t)=>r.jsx(i.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.Z0.displayName},5304:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(3189).createProxy)(String.raw`c:\Users\mitta\Desktop\REEDU\apps\frontend\app\sell\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[119,541,233,899],()=>t(3432));module.exports=r})();