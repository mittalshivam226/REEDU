(()=>{var e={};e.id=311,e.ids=[311],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},4105:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o}),r(6732),r(1645),r(7824);var t=r(3282),a=r(5736),l=r(3906),i=r.n(l),n=r(6880),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(s,d);let o=["",{children:["listings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6732)),"C:\\Users\\mitta\\Desktop\\REEDU\\apps\\frontend\\app\\listings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1645)),"C:\\Users\\mitta\\Desktop\\REEDU\\apps\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7824,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\mitta\\Desktop\\REEDU\\apps\\frontend\\app\\listings\\page.tsx"],u="/listings/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/listings/page",pathname:"/listings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2862:(e,s,r)=>{Promise.resolve().then(r.bind(r,6956))},6956:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>P,dynamic:()=>w});var t=r(3227),a=r(3677),l=r(1043),i=r(1009),n=r(7403),d=r(6423),o=r(1563),c=r(75),u=r(8969);function x({className:e,...s}){return t.jsx("div",{className:(0,u.cn)("animate-pulse rounded-md bg-muted",e),...s})}var m=r(4871);let p=(0,r(4583).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var g=r(5619),h=r(582),f=r(405),y=r(5662),b=r(7226),j=r(649),N=r(7392),v=r(5768);let w="force-dynamic";function k(){let[e,s]=(0,a.useState)([]),[r,u]=(0,a.useState)(!0),[w,k]=(0,a.useState)(""),[P,_]=(0,a.useState)(""),[E,q]=(0,a.useState)(""),[C,Z]=(0,a.useState)(""),[R,S]=(0,a.useState)(1),[U,A]=(0,a.useState)(1),[D,I]=(0,a.useState)(0);(0,l.useSearchParams)();let{toast:O}=(0,v.pm)(),z=async(e="")=>{try{u(!0);let r={};e&&(r.search=e),P&&(r.condition=P),E&&(r.minPrice=parseFloat(E)),C&&(r.maxPrice=parseFloat(C));let t=await N.eo.getAll(r);s(t.data)}catch(e){O({title:"Error",description:"Failed to fetch listings",variant:"destructive"})}finally{u(!1)}},G=()=>{z(w)},B=e=>{switch(e){case"NEW":return"bg-green-100 text-green-800";case"LIKE_NEW":return"bg-blue-100 text-blue-800";case"GOOD":return"bg-yellow-100 text-yellow-800";case"FAIR":return"bg-orange-100 text-orange-800";case"POOR":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[t.jsx(y.h,{}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsx(b.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-8",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(m.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400 dark:text-gray-500"}),t.jsx(d.I,{placeholder:"Search books by title, author, or ISBN...",value:w,onChange:e=>k(e.target.value),className:"pl-10 bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 focus:ring-blue-500 dark:focus:ring-blue-400",onKeyPress:e=>"Enter"===e.key&&G()})]})}),(0,t.jsxs)(o.Ph,{value:P,onValueChange:_,children:[t.jsx(o.i4,{className:"w-full md:w-48 bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600",children:t.jsx(o.ki,{placeholder:"Condition"})}),(0,t.jsxs)(o.Bw,{children:[t.jsx(o.Ql,{value:"",children:"All Conditions"}),t.jsx(o.Ql,{value:"NEW",children:"New"}),t.jsx(o.Ql,{value:"LIKE_NEW",children:"Like New"}),t.jsx(o.Ql,{value:"GOOD",children:"Good"}),t.jsx(o.Ql,{value:"FAIR",children:"Fair"}),t.jsx(o.Ql,{value:"POOR",children:"Poor"})]})]}),t.jsx(d.I,{placeholder:"Min Price",type:"number",value:E,onChange:e=>q(e.target.value),className:"w-full md:w-32 bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}),t.jsx(d.I,{placeholder:"Max Price",type:"number",value:C,onChange:e=>Z(e.target.value),className:"w-full md:w-32 bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}),(0,t.jsxs)(n.z,{onClick:()=>{z(w)},className:"hover:scale-105 transition-transform",children:[t.jsx(p,{className:"h-4 w-4 mr-2"}),"Filter"]})]})}),r?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,t.jsxs)(i.Zb,{className:"animate-pulse",children:[t.jsx(x,{className:"h-48 w-full rounded-t-lg"}),(0,t.jsxs)(i.Ol,{children:[t.jsx(x,{className:"h-6 w-3/4"}),t.jsx(x,{className:"h-4 w-1/2"})]}),(0,t.jsxs)(i.aY,{children:[t.jsx(x,{className:"h-4 w-full mb-2"}),t.jsx(x,{className:"h-4 w-2/3 mb-3"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[t.jsx(x,{className:"h-6 w-16"}),t.jsx(x,{className:"h-6 w-20"}),t.jsx(x,{className:"h-6 w-14"})]}),t.jsx(x,{className:"h-10 w-full"})]})]},s))}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(g.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No listings found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search criteria or check back later."}),t.jsx(j.default,{href:"/sell",children:t.jsx(n.z,{children:"Be the first to sell a book"})})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsxs)(i.Zb,{className:"hover:shadow-lg transition-shadow",children:[t.jsx("div",{className:"aspect-w-3 aspect-h-4 bg-gray-200 rounded-t-lg overflow-hidden",children:e.images.length>0?t.jsx("img",{src:e.images[0].url,alt:e.title,className:"w-full h-48 object-cover"}):t.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:t.jsx(g.Z,{className:"h-12 w-12 text-gray-400"})})}),(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[t.jsx(i.ll,{className:"text-lg line-clamp-2",children:e.title}),t.jsx(c.C,{className:B(e.condition),children:e.condition.replace("_"," ")})]}),(0,t.jsxs)(i.SZ,{className:"flex items-center text-lg font-semibold text-green-600",children:[t.jsx(h.Z,{className:"h-4 w-4 mr-1"}),"$",e.price]})]}),(0,t.jsxs)(i.aY,{children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description||"No description available"}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[t.jsx(f.Z,{className:"h-4 w-4 mr-1"}),e.location]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.tags.slice(0,3).map((e,s)=>t.jsx(c.C,{variant:"secondary",className:"text-xs",children:e},s)),e.tags.length>3&&(0,t.jsxs)(c.C,{variant:"secondary",className:"text-xs",children:["+",e.tags.length-3," more"]})]}),t.jsx(j.default,{href:`/listings/${e.id}`,children:t.jsx(n.z,{className:"w-full",children:"View Details"})})]})]},e.id))})]})]})}function P(){return t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>t.jsx(x,{className:"h-64 w-full"},s))})})}),children:t.jsx(k,{})})}},75:(e,s,r)=>{"use strict";r.d(s,{C:()=>n});var t=r(3227);r(3677);var a=r(9704),l=r(8969);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...r}){return t.jsx("div",{className:(0,l.cn)(i({variant:s}),e),...r})}},6423:(e,s,r)=>{"use strict";r.d(s,{I:()=>i});var t=r(3227),a=r(3677),l=r(8969);let i=a.forwardRef(({className:e,type:s,...r},a)=>t.jsx("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));i.displayName="Input"},1563:(e,s,r)=>{"use strict";r.d(s,{Bw:()=>g,Ph:()=>c,Ql:()=>h,i4:()=>x,ki:()=>u});var t=r(3227),a=r(3677),l=r(6612),i=r(5327),n=r(492),d=r(6942),o=r(8969);let c=l.fC;l.ZA;let u=l.B4,x=a.forwardRef(({className:e,children:s,...r},a)=>(0,t.jsxs)(l.xz,{ref:a,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[s,t.jsx(l.JO,{asChild:!0,children:t.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=l.xz.displayName;let m=a.forwardRef(({className:e,...s},r)=>t.jsx(l.u_,{ref:r,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(n.Z,{className:"h-4 w-4"})}));m.displayName=l.u_.displayName;let p=a.forwardRef(({className:e,...s},r)=>t.jsx(l.$G,{ref:r,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(i.Z,{className:"h-4 w-4"})}));p.displayName=l.$G.displayName;let g=a.forwardRef(({className:e,children:s,position:r="popper",...a},i)=>t.jsx(l.h_,{children:(0,t.jsxs)(l.VY,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[t.jsx(m,{}),t.jsx(l.l_,{className:(0,o.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(p,{})]})}));g.displayName=l.VY.displayName,a.forwardRef(({className:e,...s},r)=>t.jsx(l.__,{ref:r,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=l.__.displayName;let h=a.forwardRef(({className:e,children:s,...r},a)=>(0,t.jsxs)(l.ck,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(l.wU,{children:t.jsx(d.Z,{className:"h-4 w-4"})})}),t.jsx(l.eT,{children:s})]}));h.displayName=l.ck.displayName,a.forwardRef(({className:e,...s},r)=>t.jsx(l.Z0,{ref:r,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=l.Z0.displayName},7392:(e,s,r)=>{"use strict";r.d(s,{eo:()=>n,iJ:()=>i});var t=r(2820);let a=process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:3001",l=t.Z.create({baseURL:a,withCredentials:!0}),i={login:e=>l.post("/auth/login",e),register:e=>l.post("/auth/register",e),profile:()=>l.get("/auth/profile")},n={getAll:e=>l.get("/listings",{params:e}),getById:e=>l.get(`/listings/${e}`),create:e=>l.post("/listings",e),update:(e,s)=>l.patch(`/listings/${e}`,s),delete:e=>l.delete(`/listings/${e}`),getUserListings:()=>l.get("/listings/user")}},582:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(4583).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},405:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(4583).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6732:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l,dynamic:()=>a});var t=r(3189);let a=(0,t.createProxy)(String.raw`C:\Users\mitta\Desktop\REEDU\apps\frontend\app\listings\page.tsx#dynamic`),l=(0,t.createProxy)(String.raw`C:\Users\mitta\Desktop\REEDU\apps\frontend\app\listings\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[119,202,949,10,126,893],()=>r(4105));module.exports=t})();